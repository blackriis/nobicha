# üå± ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£ Seed ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

## ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡πÉ‡∏ä‡πâ Supabase SQL Editor (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ - ‡∏á‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î)

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô

1. **‡πÄ‡∏õ‡∏¥‡∏î Supabase Dashboard**
   - ‡πÑ‡∏õ‡∏ó‡∏µ‡πà: https://supabase.com/dashboard/project/nyhwnafkybuxneqiaffq
   - ‡∏Ñ‡∏•‡∏¥‡∏Å **SQL Editor** ‡πÉ‡∏ô‡πÄ‡∏°‡∏ô‡∏π‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢

2. **‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å SQL ‡∏à‡∏≤‡∏Å seed file**
   ```bash
   # ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå supabase/seed.sql
   # ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
   ```

3. **Paste ‡πÅ‡∏•‡∏∞ Run**
   - Paste SQL ‡∏ó‡∏µ‡πà‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏°‡∏≤‡πÉ‡∏ô SQL Editor
   - ‡∏Ñ‡∏•‡∏¥‡∏Å **Run** ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏î `Ctrl+Enter` (Windows) / `Cmd+Enter` (Mac)

4. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå**
   - ‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô Results
   - ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô "INSERT 0 3" ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö branches
   - ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô "INSERT 0 7" ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö work_shifts
   - ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô "INSERT 0 6" ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö raw_materials

### ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ
- ‚úÖ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ environment variables
- ‚úÖ ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ CLI
- ‚úÖ ‡πÄ‡∏´‡πá‡∏ô‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏±‡∏ô‡∏ó‡∏µ

---

## ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡πÉ‡∏ä‡πâ Script (Node.js) - **‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Seed Users**

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô

1. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Environment Variables**
   ```bash
   # ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÑ‡∏ü‡∏•‡πå .env.local ‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ:
   # NEXT_PUBLIC_SUPABASE_URL=https://nyhwnafkybuxneqiaffq.supabase.co
   # SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
   ```

2. **‡∏£‡∏±‡∏ô Script**
   ```bash
   # Seed ‡∏ó‡∏±‡πâ‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞ users
   node scripts/seed-database.js
   
   # ‡∏´‡∏£‡∏∑‡∏≠ seed ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ users
   node scripts/create-test-users.js
   ```

3. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå**
   - Script ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£ seed ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô
   - ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà seed ‡πÅ‡∏•‡πâ‡∏ß
   - **‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á test users ‡∏ó‡∏±‡πâ‡∏á admin ‡πÅ‡∏•‡∏∞ employee ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥**

### ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ
- ‚úÖ **Seed users ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥** - ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ó‡∏±‡πâ‡∏á auth users ‡πÅ‡∏•‡∏∞ profiles
- ‚úÖ ‡∏£‡∏±‡∏ô‡πÑ‡∏î‡πâ‡∏ã‡πâ‡∏≥‡πÜ ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏á‡∏ß‡∏•‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á duplicate
- ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡πà‡∏≠‡∏ô insert
- ‚úÖ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö automation

### ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢
- ‚ùå ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ SUPABASE_SERVICE_ROLE_KEY
- ‚ùå ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ Node.js ‡πÅ‡∏•‡∏∞ dependencies

---

## ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 3: ‡πÉ‡∏ä‡πâ Supabase CLI (Local Development)

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô

1. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Docker ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏±‡∏ô**
   ```bash
   docker ps
   ```

2. **Reset ‡πÅ‡∏•‡∏∞ Seed**
   ```bash
   supabase db reset
   ```

‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡∏µ‡πâ‡∏à‡∏∞:
- Reset local database
- ‡∏£‡∏±‡∏ô migrations ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
- ‡∏£‡∏±‡∏ô `supabase/seed.sql` ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

### ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ
- ‚úÖ Seed ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å migrations
- ‚úÖ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö local development

### ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢
- ‚ùå ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ Docker running
- ‚ùå ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ local database

---

## üìã ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏à‡∏∞ Seed

### 1. Branches (3 ‡∏™‡∏≤‡∏Ç‡∏≤)
- ‡∏™‡∏≤‡∏Ç‡∏≤‡∏™‡∏µ‡∏•‡∏°
- ‡∏™‡∏≤‡∏Ç‡∏≤‡∏™‡∏∏‡∏Ç‡∏∏‡∏°‡∏ß‡∏¥‡∏ó
- ‡∏™‡∏≤‡∏Ç‡∏≤‡∏à‡∏ï‡∏∏‡∏à‡∏±‡∏Å‡∏£

### 2. Work Shifts (7 ‡∏Å‡∏∞)
- ‡∏™‡∏≤‡∏Ç‡∏≤‡∏™‡∏µ‡∏•‡∏°: ‡∏Å‡∏∞‡πÄ‡∏ä‡πâ‡∏≤, ‡∏Å‡∏∞‡∏ö‡πà‡∏≤‡∏¢, ‡∏Å‡∏∞‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î
- ‡∏™‡∏≤‡∏Ç‡∏≤‡∏™‡∏∏‡∏Ç‡∏∏‡∏°‡∏ß‡∏¥‡∏ó: ‡∏Å‡∏∞‡πÄ‡∏ä‡πâ‡∏≤, ‡∏Å‡∏∞‡∏ö‡πà‡∏≤‡∏¢
- ‡∏™‡∏≤‡∏Ç‡∏≤‡∏à‡∏ï‡∏∏‡∏à‡∏±‡∏Å‡∏£: ‡∏Å‡∏∞‡πÄ‡∏ä‡πâ‡∏≤, ‡∏Å‡∏∞‡∏î‡∏∂‡∏Å

### 3. Raw Materials (6 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)
- ‡∏ô‡πâ‡∏≥, ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•, ‡∏Å‡∏≤‡πÅ‡∏ü, ‡∏ô‡∏°, ‡∏ñ‡πâ‡∏ß‡∏¢‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©, ‡∏ù‡∏≤‡∏õ‡∏¥‡∏î

---

## ‚ö†Ô∏è ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

### ‡∏Å‡∏≤‡∏£ Seed Users

**Users ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ Seed ‡∏ú‡πà‡∏≤‡∏ô SQL ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á** ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ Supabase Auth API

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: ‡πÉ‡∏ä‡πâ Script**
```bash
# Seed ‡∏ó‡∏±‡πâ‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞ users
node scripts/seed-database.js

# ‡∏´‡∏£‡∏∑‡∏≠ seed ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ users
node scripts/create-test-users.js
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ú‡πà‡∏≤‡∏ô Dashboard**
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà [Supabase Dashboard](https://supabase.com/dashboard/project/nyhwnafkybuxneqiaffq/auth/users)
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **Add User** > **Create new user**
3. ‡πÉ‡∏™‡πà email ‡πÅ‡∏•‡∏∞ password ‡∏ï‡∏≤‡∏° `TEST_CREDENTIALS.md`

**Test Users ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á:**
- `admin@test.com` / `SecureAdmin2024!@#` (Admin)
- `manager.silom@test.com` / `Manager123!` (Admin - ‡∏™‡∏≤‡∏Ç‡∏≤‡∏™‡∏µ‡∏•‡∏°)
- `employee.som@test.com` / `Employee123!` (Employee - ‡∏™‡∏≤‡∏Ç‡∏≤‡∏™‡∏µ‡∏•‡∏°)
- `employee.malee@test.com` / `Employee123!` (Employee - ‡∏™‡∏≤‡∏Ç‡∏≤‡∏™‡∏∏‡∏Ç‡∏∏‡∏°‡∏ß‡∏¥‡∏ó)
- `employee.chai@test.com` / `Employee123!` (Employee - ‡∏™‡∏≤‡∏Ç‡∏≤‡∏à‡∏ï‡∏∏‡∏à‡∏±‡∏Å‡∏£)
- `employee.nina@test.com` / `Employee123!` (Employee - ‡∏´‡∏•‡∏≤‡∏¢‡∏™‡∏≤‡∏Ç‡∏≤)

‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏ó‡∏µ‡πà: `TEST_CREDENTIALS.md`

---

## üîç ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå

### ‡∏ú‡πà‡∏≤‡∏ô SQL Editor

```sql
-- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
SELECT 'Branches:' as table_name, count(*) as count FROM branches
UNION ALL
SELECT 'Work Shifts:', count(*) FROM work_shifts
UNION ALL
SELECT 'Raw Materials:', count(*) FROM raw_materials;

-- ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î branches
SELECT id, name, address FROM branches;

-- ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î raw materials
SELECT name, unit, cost_per_unit, supplier FROM raw_materials;
```

### ‡∏ú‡πà‡∏≤‡∏ô Supabase Dashboard

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Table Editor**
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö tables:
   - `branches` - ‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ 3 ‡πÅ‡∏ñ‡∏ß
   - `work_shifts` - ‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ 7 ‡πÅ‡∏ñ‡∏ß
   - `raw_materials` - ‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ 6 ‡πÅ‡∏ñ‡∏ß

---

## üÜò Troubleshooting

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Duplicate Key Error

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
- Seed file ‡πÉ‡∏ä‡πâ `ON CONFLICT DO NOTHING` ‡πÅ‡∏•‡∏∞ `WHERE NOT EXISTS` ‡πÅ‡∏•‡πâ‡∏ß
- ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ ‡πÉ‡∏´‡πâ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πà‡∏≤‡∏Å‡πà‡∏≠‡∏ô:
  ```sql
  DELETE FROM work_shifts;
  DELETE FROM raw_materials;
  DELETE FROM branches;
  ```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Permission Denied

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡πÉ‡∏ä‡πâ anon key ‡πÅ‡∏ó‡∏ô service role key

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
- ‡πÉ‡∏ä‡πâ `SUPABASE_SERVICE_ROLE_KEY` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö script
- ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ Supabase SQL Editor (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ key)

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Table Not Found

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** Migrations ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ô

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
```bash
# Push migrations ‡∏Å‡πà‡∏≠‡∏ô
supabase db push
```

---

## üìö ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

- `SEED_DATA_GUIDE.md` - ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£ seed ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏â‡∏ö‡∏±‡∏ö‡πÄ‡∏ï‡πá‡∏°
- `TEST_CREDENTIALS.md` - ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î test users
- `SUPABASE_MIGRATION_GUIDE.md` - ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠ migration

